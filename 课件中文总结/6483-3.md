---
      
title: 3
      
created: 2025-04-30
      
source: Cherry Studio
      
tags: 
      
---

### IE4483/EE6483 - 第一部分：主题 3 - 启发式搜索与游戏策略


## **第一部分：主题 3-A - 启发式搜索**

### **1. 搜索策略概述**

#### **1.1 搜索策略简介**
- **定义**：搜索策略决定了搜索树中节点扩展的顺序，以找到解决方案。
- **评估维度**：
  - **完整性**：如果存在解决方案，策略是否保证能找到？
  - **最优性**：是否能找到成本最低（最优）的解决方案？
  - **时间复杂度**：生成或扩展的节点数量，通常以O(b^d)表示，其中b是分支因子，d是解决方案深度。
  - **空间复杂度**：搜索过程中内存中存储的最大节点数。

#### **1.2 无信息搜索与有信息搜索**
- **无信息搜索（盲搜索）**：
  - 仅使用问题定义信息，没有额外知识。
  - 系统性但效率低，因缺乏指导。
  - 示例：广度优先搜索（BFS）、深度优先搜索（DFS）、迭代深化搜索（IDS）。
  - 无信息搜索算法总结：
    - **BFS**：完整、最优，时间复杂度O(b^d)，空间复杂度O(b^d)。
    - **DFS**：不完整、非最优，时间复杂度O(b^m)，空间复杂度O(b*m)（m是最大深度）。
    - **IDS**：完整、最优，时间复杂度O(b^d)，空间复杂度O(b*d)。
- **有信息搜索（启发式搜索）**：
  - 使用特定问题的知识，通过评估函数估计每个节点的“ desirability（吸引力）”来指导搜索。
  - 由于目标性探索，效率更高。
  - 示例：爬山算法、最优优先搜索（贪婪）、A*搜索。

---

### **2. 启发式搜索概念**

#### **2.1 什么是启发式？**
- **定义**：
  - 作为形容词，“启发式”指通过个人发现和经验学习，或有助于发现过程。
  - 作为名词，“启发式”是指利用经验和实际努力解决问题或提高性能的研究。
- **在状态空间搜索中**：
  - 启发式被形式化为在状态空间中选择最有可能导致解决方案的分支的规则或度量。
- **示例**：在象棋或围棋等游戏，或旅行推销员问题（TSP）等优化问题中，启发式通过估计状态的“优劣”来指导搜索。

#### **2.2 为什么使用启发式？**
- **必要性**：
  - 许多问题的状态空间呈组合爆炸式增长（例如，状态数量随深度呈指数或阶乘增长）。
  - 穷举搜索技术（如暴力搜索）对于大规模问题在计算上不可行。
- **优势**：
  - 启发式沿着最有希望的路径引导搜索，缩小搜索空间。
  - 通过排除不具前景的状态及其后代，帮助克服状态空间的组合爆炸。
- **问题示例**：象棋、围棋、大规模TSP（城市数n > 25）。

#### **2.3 启发式的局限性**
- **易错性**：
  - 启发式是基于有限信息的推测，通常无法准确预测状态空间深层的具体行为。
  - 可能导致次优解或完全找不到解决方案。
- **固有问题**：
  - 即使使用更好的启发式或更高效的算法，这一局限性也无法完全消除。

#### **2.4 启发式搜索的组成部分**
- **启发式度量**：一个函数或规则，用于估计状态的吸引力或成本。
- **搜索算法**：利用启发式度量有效导航状态空间。

---

### **3. 启发式搜索算法**

#### **3.1 爬山算法（Hill-Climbing）**
- **概念**：
  - 以短视的登山者命名，总是朝更好的状态移动，通过扩展当前节点并选择最优子节点进行进一步扩展。
  - 不保留兄弟节点或父节点；当没有更好的子节点时停止搜索。
- **惯例**：
  - 如果启发式=适应度（越大越好），则寻求“局部最大值”（爬山）。
  - 如果启发式=成本（越小越好），则寻求“局部最小值”（梯度下降）。
- **局限性**：
  - 可能陷入局部最大值/最小值，无法找到全局最优解。
  - 错误的启发式可能导致无限路径或无法找到解决方案。
- **示例（假设状态空间）**：
  - 参考幻灯片中的Fig 4.4，基于启发式成本的搜索，数字表示状态成本。

#### **3.2 最优优先搜索（贪婪最优优先，Best-First Search, Greedy Best-First）**
- **概念**：
  - 从OPEN列表中扩展具有最佳评估（最低启发式成本）的节点。
- **算法步骤**：
  1. 初始时OPEN仅包含起始状态。
  2. 直到找到目标或OPEN中没有节点为止：
     - 从OPEN中选择最佳节点（最低启发式值）。
     - 生成其后继节点。
     - 对每个后继节点：
       - 如果之前未生成，评估它，加入OPEN，并记录其父节点。
       - 如果之前已生成，若新路径更好则更新父节点。
- **贪婪最优优先**：
  - 使用f(n) = h(n)（到目标的启发式估计成本），忽略g(n)（从起点到n的成本）。
  - 注重速度，优先考虑接近目标的节点。
- **性质**：
  - **完整性**：否，可能陷入循环。
  - **最优性**：否，不保证最低成本解决方案。
  - **时间复杂度**：O(b^m)，其中m是最大深度。
  - **空间复杂度**：O(b^m)，内存中保留所有节点。

#### **3.3 A* 搜索**
- **概念**：
  - 结合了BFS（全面性）和贪婪最优优先（速度）的优势。
  - 使用评估函数f(n) = g(n) + h(n)：
    - g(n)：从起点到节点n的实际成本。
    - h(n)：从n到目标的启发式估计成本（必须是可接受的，即从不高于真实成本）。
  - 扩展具有最低f(n)值的节点。
- **可接受性（Admissibility）**：
  - 若对于所有n，0 ≤ h(n) ≤ h*(n)（到目标的真实成本），则h(n)是可接受的，确保A*找到最优路径。
- **性质**：
  - **完整性**：是，如果搜索空间有限。
  - **最优性**：是，如果h(n)是可接受且一致的。
  - **时间复杂度**：O(b^m)，对于大问题可能是指数级的。
  - **空间复杂度**：O(b^m)，存储所有节点，对大规模问题通常因内存限制而不实用。
- **关键问题**：内存使用限制了其在大问题中的应用。

---

### **4. 设计启发式**

#### **4.1 设计启发式的挑战**
- **目标**：利用有限信息创建状态描述符以进行智能决策。
- **难度**：每个启发式可能忽略关键信息，因此有改进空间。
- **经验性**：设计好的启发式依赖于判断和直觉，其性能通过实际问题实例来衡量。
- **风险**：启发式可能将搜索误导至无果路径；深度计数可以帮助检测并避免这种情况。

#### **4.2 示例：8-拼图问题**
- **问题描述**：
  - 8-拼图是一个滑动拼图，在3x3网格上有8个编号为1-8的拼块和一个空白位置。目标是通过合法移动（滑动空白位置）将拼块从起始状态重新排列到目标状态。
- **8-拼图的启发式（Fig 4.8）**：
  - **h1(n)**：与目标状态相比，错位拼块的数量。
  - **h2(n)**：每个拼块到其目标位置的曼哈顿距离之和（位置p1(x1, y1)与p2(x2, y2)之间的曼哈顿距离为|x1 - x2| + |y1 - y2|）。
  - **h3(n)**：2 *（直接拼块反转的数量），考虑特定拼块交互。
- **评估函数**：f(n) = g(n) + h(n)，通过包含深度（g(n)）和启发式成本（h(n)），可以偏向搜索较浅的状态。

#### **4.3 示例：路径规划（从Arad到Bucharest）**
- **问题**：使用罗马尼亚简化道路图（Fig 3.2）找到从Arad到Bucharest的最短路径。
- **贪婪最优优先**：
  - 使用f(n) = h(n) = 到Bucharest的直线距离（SLD）。
  - 总路径距离可能非最优，因忽略实际路径成本（g(n)）。
- **A*搜索**：
  - 使用f(n) = g(n) + h(n)，其中h(n)为SLD（可接受启发式）。
  - 通过考虑从起点到当前节点的实际成本（g(n)）和到目标的估计成本（h(n)），保证找到最短路径。

---

### **5. 启发式搜索总结**
- **启发式函数**：估计最短路径成本，设计良好的启发式可以显著减少搜索空间。
- **最优优先（贪婪）**：扩展最低h(n)的节点；不完整且非最优。
- **A*搜索**：扩展最低f(n) = g(n) + h(n)的节点；如果h(n)是可接受且一致的，则完整且最优。
- **关键结论**：好的启发式对高效搜索至关重要，但设计它们具有挑战性且依赖经验。

---

## **第一部分：主题 3-B - 游戏与游戏树搜索**

### **6. 游戏作为搜索问题**

#### **6.1 搜索与游戏的对比**
- **搜索（无对手）**：
  - 目标：找到解决方案（到达目标状态的路径）。
  - 技术：启发式和约束满足问题（CSP）可以找到最优解。
  - 评估：从起点到目标通过某节点的成本。
  - 示例：路径规划、调度。
- **游戏（有对手且有时间限制）**：
  - 目标：制定策略，针对对手的每种可能回应指定移动。
  - 挑战：时间限制迫使采用近似解决方案。
  - 评估：使用效用或适应度函数评估游戏位置的“优劣”。
  - 示例：象棋、跳棋、围棋。
- **AI意义**：游戏是智能的基准；战胜人类通常标志着AI能力。

#### **6.2 游戏作为搜索问题**
- **组成部分**：
  - **初始状态**：起始棋盘配置和谁先移动的指示。
  - **操作符**：每个状态下的合法移动。
  - **终止测试**：确定游戏何时结束（终止状态）。
  - **效用函数**：量化游戏结果的数值分数（例如，象棋中胜利为+1，失败为-1，平局为0）。
- **游戏树**：将状态空间表示为树，节点为游戏状态，边为移动。

---

### **7. 游戏树搜索策略**

#### **7.1 极小极大搜索（Minimax Search）**
- **概念**：
  - 适用于两人、确定性、回合制游戏的策略。
  - 假设双方玩家（MAX和MIN）使用相同知识并致力于获胜。
  - MAX尝试最大化效用，MIN尝试最小化效用。
- **算法（完美决策，无时间限制）**：
  1. 生成整个游戏树直到终止状态。
  2. 在终止状态计算效用值。
  3. 向上传播值：
     - 在MAX节点，选择子节点的最大效用。
     - 在MIN节点，选择子节点的最小效用。
  4. 在根节点选择具有最高传播效用的移动。
- **不完美决策（有时间/空间限制）**：
  - 使用启发式评估函数替代非终止状态的效用。
  - 将搜索限制在一定深度（截止测试）而非终止状态。
- **性质**：
  - **完整性**：是，如果树是有限的。
  - **最优性**：是，对抗最优对手时。
  - **时间复杂度**：O(b^m)，其中b是分支因子，m是深度。
  - **空间复杂度**：O(b*m)，深度优先探索时。
  - **问题**：对于大型游戏不可行（例如，象棋b=35，m=100）。
- **示例（NIM游戏，Fig 4.14）**：
  - 一种减法游戏，玩家将火柴堆分成两堆。
  - 小规模实例下可穷举搜索状态空间。
  - 效用：MAX胜利为1，MIN胜利为0。
- **示例（井字棋，Fig 4.17）**：
  - 启发式h(x) = M(x) - O(x)（MAX和MIN潜在获胜线的差值）。
  - 极小极大应用于开局移动以选择最佳策略。

#### **7.2 Alpha-Beta剪枝**
- **概念**：
  - 极小极大的优化，通过剪枝不具前景的分支减少节点评估。
  - 达成与极小极大相同的结果，但计算量减少。
- **关键思想**：
  - 搜索过程中使用两个值：
    - **Alpha (α)**：与MAX节点相关，从不减少（初始化为-∞），表示MAX已探索的最佳选项。
    - **Beta (β)**：与MIN节点相关，从不增加（初始化为+∞），表示MIN已探索的最佳选项。
  - **剪枝规则**：
    - 若β ≤ 任何MAX祖先的α，则停止在MIN节点下搜索（alpha剪枝）。
    - 若α ≥ 任何MIN祖先的β，则停止在MAX节点下搜索（beta剪枝）。
- **过程**：
  - 以深度优先方式遍历树到指定深度。
  - 评估节点并向上传播值，剪枝不会影响结果的分支。
- **示例（Fig 6.5, Fig 6.6）**：
  - Alpha-Beta剪枝应用于双层游戏树，显示不影响最终决策的未评估节点。
- **优势**：
  - 显著减少评估节点数量，使其对较大游戏更实用。
  - 保持极小极大决策的正确性。

#### **7.3 蒙特卡洛树搜索（Monte Carlo Tree Search, MCTS）**
- **概念**：
  - 一种启发式搜索算法，用于某些决策过程，尤其在AI游戏中（例如围棋）。
  - 2006年由法国计算机科学家提出。
- **关键思想**：
  - 构建统计树，部分映射到整个游戏树。
  - 通过模拟估计节点价值，指导搜索到最具前景的区域。
- **应用**：
  - 棋类游戏如围棋、象棋、日本将棋。
  - 不完全信息游戏（桥牌、拼字游戏）。
  - 现实世界的规划和优化。
- **优势**：在传统极小极大或Alpha-Beta不可行的领域中有效。

---

### **8. 游戏策略总结**
- **极小极大**：穷举搜索，假设双方玩家均为最优；对大型游戏不可行。
- **Alpha-Beta剪枝**：优化极小极大，通过剪枝分支减少计算，保持正确性。
- **蒙特卡洛树搜索**：在复杂游戏如围棋中使用模拟进行启发式评估。
- **关键结论**：由于游戏的对抗性和时间限制，高效搜索策略至关重要。

---

## **练习与示例**

### **练习1：贪婪最优优先搜索**
- **问题**：在图Fig.ex1中从节点A开始手动运行贪婪最优优先算法，直到到达目标节点O。启发式值（h）已提供。
- **图（Fig.ex1）**：
  - 节点及其启发式值：A(3), B(8), C(12), D(10), E(19), F(9), G(6), H(5), I(14), J(13), K(15), L(3), M(4), N(1), O(2)。
- **解答（从左到右遍历）**：
  - 迭代详情见幻灯片51：
    1. Open: [A(3)], Closed: []
    2. Open: [B(8), D(10), C(12), E(19)], Closed: [A]
    3. Open: [M(4), H(5), G(6), F(9), D(10), C(12), E(19)], Closed: [B, A]
    4. Open: [N(1), H(5), G(6), F(9), D(10), C(12), E(19)], Closed: [M, B, A]
    5. Open: [O(2), H(5), G(6), F(9), D(10), C(12), E(19)], Closed: [N, M, B, A]
    6. 找到目标O(2)。
  - **访问节点**：A → B → M → N → O。

### **练习2：无数值评估的最优优先搜索**
- **问题**：在没有数值评估函数的情况下，仅使用比较方法判断一个节点是否优于另一个，能否进行最优优先搜索？
- **解答**：可以，只要能从OPEN列表中选择最佳状态（即使没有数值），最优优先搜索即可通过基于比较方法的“更好”节点优先级正常进行。

### **练习3：8-拼图的启发式**
- **问题**：针对8-拼图起始状态（Fig.ex3）与目标状态，计算两个启发式：
  - h1(n)：错位拼块数量。
  - h2(n)：总曼哈顿距离。
- **解答**：
  - **h1(n)** = 6（6个拼块错位）。
  - **h2(n)** = 14（每个拼块到目标位置的曼哈顿距离之和：4+0+3+3+1+0+2+1 = 14）。

### **练习4：极小极大搜索**
- **问题**：在图Fig.ex4的树上执行极小极大搜索以确定最优移动。
- **解答**：（详细解答需要Fig.ex4的树结构，文本中未完全描述。学生应应用极小极大规则，从终止节点向上传播效用值，在MAX节点选择最大值，在MIN节点选择最小值。）

### **练习5：Alpha-Beta剪枝（从左到右和从右到左）**
- **问题**：在图Fig.ex5上执行从左到右和从右到左的Alpha-Beta剪枝。讨论为何剪枝不同。
- **解答（从左到右）**：
  - 按照幻灯片87所示的剪枝规则进行。剪枝取决于评估顺序，因早期基于α和β值的截止而不同。
- **解答（从右到左）**：
  - 不同的兄弟节点评估顺序可能导致不同分支被剪枝，影响α或β阈值的达成时间。
- **讨论**：顺序影响哪些节点首先被评估，从而影响截止触发的时机。

### **练习6：游戏树上的Alpha-Beta剪枝**
- **问题**：使用从左到右的Alpha-Beta剪枝探索图Fig.ex6的树，标明被剪枝的节点，并找出获胜路径。
- **解答**：（参考幻灯片88获取详细步骤。应用剪枝规则剪掉α ≥ β或β ≤ α的分支，并确定从根到终止状态的最优路径，获得MAX的最佳效用。）

---
